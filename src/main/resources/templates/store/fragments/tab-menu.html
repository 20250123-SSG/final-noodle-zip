<!DOCTYPE html>
<html lang="en"
      xmlns:th="https://www.thymeleaf.org">

<!-- store/fragments/tab-menu.html -->
<div th:fragment="menu-tab">
  <div class="menu_header">
    <h3 class="card-body">메뉴</h3>

    <div id="menu-tag-filters" class="filter-bar">
      <div class="tag-group">
        <span class="filter-label">카테고리:</span>
        <span class="filter-tag active"
              th:each="c : ${menuDetail.categoryNames}"
              th:text="${c}" data-type="category"
              th:attr="data-value=${c}">Category</span>
      </div>
      <div class="tag-group">
        <span class="filter-label">국물:</span>
        <span class="filter-tag active"
              th:each="s : ${menuDetail.soupNames}"
              th:text="${s}" data-type="soup"
              th:attr="data-value=${s}">Soup</span>
      </div>
      <div class="tag-group">
        <span class="filter-label">토핑:</span>
        <span class="filter-tag active"
              th:each="t : ${menuDetail.toppingNames}"
              th:text="${t}" data-type="topping"
              th:attr="data-value=${t}">Topping</span>
      </div>
    </div>
  </div>

  <!-- 메뉴 리스트 -->
  <div id="menu-list">
    <div th:each="menu : ${menuDetail.menus}"
         class="menu_card"
         th:attr="data-category=${menu.categoryName},
                data-soup=${menu.soupName},
                data-toppings=${#strings.arrayJoin(menu.toppingNames, ',')}">

      <!-- 썸네일 이미지 -->
      <figure class="menu_thumb">
        <img th:src="@{|/images/menu/${menu.menuImageUrl}|}" alt="메뉴 이미지">
      </figure>

      <!-- 메뉴 정보 -->
      <div class="menu_info">
        <h4 th:text="${menu.menuName}">차슈라멘</h4>
        <em th:text="${#numbers.formatInteger(menu.price, 3, 'COMMA')} + '원'">12,000원</em>
        <p th:text="${menu.menuDescription}">진한 돈코츠 육수에 부드러운 차슈</p>

        <!-- 메타 태그 (카테고리, 수프, 토핑) -->
        <div class="menu_meta">
          <span class="tag" th:text="${menu.categoryName}">카테고리</span>
          <span class="tag" th:text="${menu.soupName}">수프</span>
          <span class="tag"
                th:each="t : ${menu.toppingNames}"
                th:text="${t}">토핑</span>
        </div>
      </div>
    </div>
  </div>

</div>

</html>