<div th:fragment="mypage-review-tab(reviewList)">

  <div th:if="${#lists.isEmpty(reviewList)}" class="col-12 text-center" style="margin-top: 45px">
    <p>작성한 리뷰가 없습니다.</p>
  </div>
  <div th:if="${!#lists.isEmpty(reviewList)}" class="reviews">
    <div class="mypage-review-list">
      <div class="review_card" th:each="review : ${reviewList}">
        <div class="row">
          <div class="col-12 mb-2">
            <a th:href="@{'/store/detail/' + ${review.storeId}}" style="font-size:1.25rem; font-weight:700;" th:text="${review.storeName}"></a>
            <span class="text-muted ms-2" th:text="${review.storeAddress}"></span>
          </div>
          <div class="col-12"><hr class="my-2"></div>
          <div class="col-md-3 d-flex align-items-center justify-content-center">
            <figure class="menu-image-thumb mb-0 magnific-gallery">
              <a th:href="${review.reviewImageUrl != null ? review.reviewImageUrl : '/img/160x160.jpg'}"
                 th:title="${review.menuName + ' 리뷰 이미지'}"
                 data-effect="mfp-zoom-in">
                <img th:src="${review.reviewImageUrl != null ? review.reviewImageUrl : '/img/160x160.jpg'}"
                     onerror="this.onerror=null;this.src='/img/160x160.jpg'"
                     alt="리뷰 이미지"
                     style="width: 100%; max-width: 200px; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); cursor: pointer;">
              </a>
            </figure>
          </div>
          <div class="col-md-9 review_content">
            <div class="clearfix add_bottom_15">
              <span class="badge bg-light text-dark me-2" th:text="${review.menuName}">메뉴명</span>
              <span th:if="${review.updatedAt != null}" th:text="'수정됨 ' + ${#temporals.format(review.updatedAt, 'yyyy-MM-dd')}"></span>
              <span th:if="${review.updatedAt == null}" th:text="${#temporals.format(review.createdAt, 'yyyy-MM-dd')}"></span>
            </div>
            <a th:href="@{'/board/review/detail/' + ${review.communityId}}">
              <h4 th:text="${review.soupFlavorKeywords}">맛 키워드</h4>
            </a>
            <p th:text="${review.content}">리뷰 본문</p>
            <div class="reviews_sum_details mt-2">
              <div class="row">
                <div class="col-md-6">
                  <h6>면 굵기</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.noodleThickness * 10} + '%'"
                             th:attr="aria-valuenow=${review.noodleThickness * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.noodleThickness}"></strong></div>
                  </div>
                  <h6>면 식감</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.noodleTexture * 10} + '%'"
                             th:attr="aria-valuenow=${review.noodleTexture * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.noodleTexture}"></strong></div>
                  </div>
                  <h6>면 삶기 정도</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.noodleBoilLevel * 10} + '%'"
                             th:attr="aria-valuenow=${review.noodleBoilLevel * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.noodleBoilLevel}"></strong></div>
                  </div>
                </div>
                <div class="col-md-6">
                  <h6>육수 온도</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.soupTemperature * 10} + '%'"
                             th:attr="aria-valuenow=${review.soupTemperature * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.soupTemperature}"></strong></div>
                  </div>
                  <h6>육수 농도</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.soupDensity * 10} + '%'"
                             th:attr="aria-valuenow=${review.soupDensity * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.soupDensity}"></strong></div>
                  </div>
                  <h6>육수 염도</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.soupSaltiness * 10} + '%'"
                             th:attr="aria-valuenow=${review.soupSaltiness * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.soupSaltiness}"></strong></div>
                  </div>
                  <h6>육수 매운맛</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.soupSpicinessLevel * 10} + '%'"
                             th:attr="aria-valuenow=${review.soupSpicinessLevel * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.soupSpicinessLevel}"></strong></div>
                  </div>
                  <h6>육수 기름진 정도</h6>
                  <div class="row">
                    <div class="col-xl-10 col-lg-9 col-9">
                      <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             th:style="'width:' + ${review.soupOiliness * 10} + '%'"
                             th:attr="aria-valuenow=${review.soupOiliness * 10}" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-3"><strong th:text="${review.soupOiliness}"></strong></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 